# Copyright (c) 2010- The University of Notre Dame.
# This software is distributed under the GNU General Public License.
# See the file COPYING for details.


PRUNE: A technique for large scale workflow preservation and management

This program is designed to enable users to preserve large scale workflow executions and revisions. The user has complete control over the granularity at which each step of the workflow is defined.





The following basic commands are fundamental to PRUNE:

**PUT [local.txt] [prune_name]: Files to be used in the workflow can be added to the preserved namespace.
  Ex. PUT mylocalfilename.txt AS data_name_in_prune

**GET [prune_name] [local.txt]: Files generated by the workflow can be put into the user's namespace for use by some external program.
  Ex. GET data_name_in_prune AS mylocalfilename.txt

**GO [FOR <timeout>]: Blocking function that instructs PRUNE to start executing the workflow with whatever resources are available.
  Ex. GO FOR 60    #Block for 60 seconds so PRUNE can work

**USE <resource> [<arguments>]: Define resources that are available to prune
  Ex. USE wq prune      #Start and use a Work Queue master with the name 'prune'

**EVAL <name(s)> = <expression> (default): Evaluate an expression and assign the results to the specified name(s). Work defined in these statements will not be executed until control is passes to PRUNE such as with the GO command.
  Ex. sorted_data = sort(input_data)

Functions are currently defined within a script file (which is PUT in the system) to define the types of arguments the script expects and the output files that should be preserved.
  Ex.  #PRUNE_INPUTS File File Text
  Ex.  #PRUNE_OUTPUT outfile1.txt
  Ex.  #PRUNE_OUTPUT outfile2.txt




The following commands are also available for convenience:

*STATUS [FOR <timeout>]: How many items are at each stage of execution, Run, Running, Complete.
*LOCATE <name>: Show where the file is cached in PRUNE (if available)
*RUN <name>: Treat each line in a file as if it were typed into the PRUNE interface.




An ENV command will come soon will will provide an Umbrella specification of the envrionment operations should be performed in to ensure libraries and configuration data are available on any computational resource.




When PRUNE is started using the "prune" executable, an interface becomes available for the user to type commands. Ctrl-C will terminate PRUNE and revert any running tasks to the "Run" status. The "--reset" argument will truncate the database and flush the data cache.
